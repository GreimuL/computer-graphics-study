# Global illumination
- indirect light
    - 표면에 들어 온 빛이 반사되어 새로운 광원 처럼 사용
- global illumination (direct + indirect)
    - shadows
    - ambient occlusion
    - inter-object reflections
    - transmittance, refractions
    - caustics
    - scattering
- shadows
    - Hard shadow = umbra
    - soft shadow = umbra + penumbra
        - umbra: fully shadowed (완전히 그림자 진곳)
        - penumbra: 부분적으로 그림자 진곳
- shadow polygon
    - polygon의 projection을 shadow polygon이라 부름
    - 점 광원과 polygon이 있을 때 shadow polygon의 정점들은 점광원으로부터 surface 위에 projection 된 original polygon의 정점들이다.
- computing shadow vertex
    - source
    - vertex
    - 땅위에 project된 간단한 상황 고려
    - origin으로 translate
    - perspective projection
    - 다시 되돌림(translate)
- shadow process
    1. 두개의 identical 삼각형들과 그것들의 색을 GPU에 넣는다
    2. 두 model-view 매트릭스를 uniform 으로 계산한다.
    3. original 삼각형을 위한 model-view 매트릭스를 보낸다
    4. original 삼각형 렌더링
    5. 두번째 model view 매트릭스 전송
    6. shadow 삼각형 렌더링
- shadow mapping
    - 씬의 depth를 계산하여 depth buffer에 넣음 (광원으로부터의 거리)
    - shadowed 된 부분과 unshadowed 된 부분을 미리 계산 - shadow map
    - multipass technique 임
    - 광원의 입장에서 렌더링 한번
        - depth texture 생성
    - viewer의 입장에서 렌더링 한번 총 두번
        - light's depth texture로 그림자 계산
- ambient occlusion
    - 일종의 shadowing (ambient light에 의한)
    - 주변에 얼마만큼의 오브젝트로 둘러쌓여있는지에 따라 달라짐
    - 반 구의 형태로 shadow ray를 쏘면서 막혀있는지 확인
- Inter-Object Reflections
    - radiance 는 다른 surface에서 시작한 조명들을 합쳐놓은 것의 합
    - inter-object reflections으로 정의
- Solid Angle
    - a
- Radiant energy Q
    - 에너지의 양
- Radiant flux
    - unit 시간 단위동안 radiant energy
- Irradiance
    - 단위면적에 대한 radiant flux
- Radiant intensity I
    - 단위 solid angle 만큼의 radiant flux
- Radiance L
    - 단위 solid angle과 단위 면적 만큼의 radiant flux
- BxDF 함수
    - BSDF : bi directional scattering distribution 함수
    - BSSRDF : bi direcional scattering-surface reflectance distribution 함수
    - BRDF: bi directional reflectance distribution 함수
        - 빛이 들어올때 나가는 방향 계산
    - BTDF: bi directional transmittance distribution 함수
        - 빛이 surface의 반대방향으로 투과하는 것 계산
- Refraction
    - 빛의 투과 계산
- Fresnel Effect
    - 빛이 반사 될때 입사각에 따라서 반사되는 양이 달라짐
- Caustics
    - 투명한 물질을 통과했을 때, 빛이 한 점으로 모이는 경우
- Scattering
    - Subsurface scattering
        - 물체가 투명할 때, 빛이 surface와 인터렉션후에 밖으로 나가게 되는데, 원래 입사했던 point와 다른 point로 나감
        - Depth map based SSS
        - Texture space diffusion
    - Participating media rendering
        - 가스 같은 이펙트
        - shadow volume 만들때 사용